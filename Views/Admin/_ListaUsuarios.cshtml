@model IEnumerable<Requerimientos.Models.Usuarios>


<script type="text/javascript">
    $(document).ready(function () {
        //Unbind the original image 'href' set by the controller...
        $('.deleteUser').attr('href', 'javascript://');
        $('.deleteUser').click(function () {
            $dialog.data('id', $(this).attr('id')).data('Id', $(this).attr('Id')).dialog("open");
        });

        var $dialog = $('<div/>')
		.html("Warning: se borrará un usuario.<br/><br/>Desea continuar?")
		.dialog({
		    autoOpen: false,
		    resizable: false,
		    height: 250,
		    modal: true,
		    title: 'borrar usuario',
		    buttons: [
						{
						    text: "Continue",
						    id: "continuebtn",
						    click: function () {
						        var _id = $(this).data('Id');
						        var _parameters = { userId: _id };
						        $.ajax({
						            url: "/Admin/DeleteUserReturnPartialView",
						            type: "GET",
						            data: _parameters,
						            success: function (data) {
						                $('#UserTable').html(data);
						            }
						        });
						        $(this).dialog('close');
						    }
						},
						{
						    text: "Cancelar",
						    id: "cancelbtn",
						    click: function () {
						        $(this).dialog("close");
						    }
						}]
		});

        $(function () {
            var displayMessage = function (message, msgType) {
                toastr.options = {
                    "closeButton": true,
                    "debug": false,
                    "newestOnTop": false,
                    "progressBar": true,
                    "positionClass": "toast-top-right",
                    "preventDuplicates": false,
                    "onclick": null,
                    "showDuration": "300",
                    "hideDuration": "1000",
                    "timeOut": "5000",
                    "extendedTimeOut": "1000",
                    "showEasing": "swing",
                    "hideEasing": "linear",
                    "showMethod": "fadeIn",
                    "hideMethod": "fadeOut"
                };
                toastr[msgType](message);
            };

            if ($('#success').val()) {
                displayMessage($('#success').val(), 'success');
            }
            if ($('#info').val()) {
                displayMessage($('#info').val(), 'info');
            }
            if ($('#warning').val()) {
                displayMessage($('#warning').val(), 'warning');
            }
            if ($('#error').val()) {
                displayMessage($('#error').val(), 'error');
            }
        });



     
    });
</script>


<input type="hidden" id="success"
       value="@TempData["success"]" />
<input type="hidden" id="info"
       value="@TempData["info"]" />
<input type="hidden" id="warning"
       value="@TempData["warning"]" />
<input type="hidden" id="error"
       value="@TempData["error"]" />



<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-4">
        <h2>Usuarios</h2>
        <ol class="breadcrumb">
            @*<li class="active">
                <strong>Worker</strong>
            </li>*@
        </ol>
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">
    @*<div class="row">
        <div class="col-lg-12">
            <div class="alert text-center">
                <p>
                    Table below was generated by Entity Framework using custom template - customized to INSPINIA theme. All pages (list, details, create, delete) was customized to give you ability for rapid development with Entity Framework. All Templates are located in CodeTemplates folder under Project.
                    <strong>See documentation for tutorial how to create basic CRUD functionality with the Entity Framework and INSPINIA templates.</strong>
                </p>
            </div>
        </div>
    </div>*@
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Lista de Usuarios</h5>
                    <div class="ibox-tools">
                        <input type="button" class="btn btn-primary btn-w-m" value="Nuevo Usuario" onclick="location.href='@Url.Action("CrearUsuario", "Admin")'" />
                    </div>
                </div>
                <div class="ibox-content">
                    <table class="table table-striped">
                        <tr>
                            <th>
                                Usuario
                            </th>
                            <th>
                                Nombre y Apellido
                            </th>
                            @*<th>
                                Area
                            </th>*@
                            @*<th>
                                Titulo
                            </th>
                            <th>
                                Inicial
                            </th>*@
                            <th></th>
                        </tr>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @if (item.Nombre != null)
                                    {
                                        @Html.ActionLink(item.Usuario, "ListaUsuarios", new { id = item.User_Id })
                                    }
                                    else
                                    {
                                        @Html.DisplayFor(modelItem => item.Usuario)
                                    }
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Nombre)
                                </td>
                                @*<td>
                                    @Html.DisplayFor(modelItem => item.Area.Descripcion)
                                </td>*@


                                @*<td>
                                    @Html.DisplayFor(modelItem => item.Titulo)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Inicial)
                                </td>*@

                                @*<td>
                                        @Html.ActionLink("EditarUsuario", "Admin", new { id = item.User_Id }, new { @class = "btn btn-primary btn-sm" })

                                        @Html.ActionLink("Delete", "Delete", new { id = item.User_Id }, new { @class = "btn btn-white btn-sm" })
                                    </td>*@

                                <td>
                                    <center>
                                        <a class="btn btn-primary btn-sm" href="@Url.Action("EditarUsuario", "Admin", new { id = item.User_Id })" id=@item.User_Id>
                                            Editar
                                        </a>
                                @*<center><img class="bin" src="@Url.Content("~/Content/images/bin.png")" alt="Delete" id="@item.User_Id" /></center>*@

                                <img class="deleteUser" src="@Url.Content("~/Content/Images/bin.png")" alt="Borrar usuario"  id="@item.User_Id" />
                                
                                <button class="deleteUser btn btn-warning btn-sm demo3" alt="Borrar usuario"  id="@item.User_Id">Eliminar</button>


                                </center>

                                @*<div class="col-lg-6 h-100 p-lg">

                                    </div>*@
                                </td>
                            </tr>
                        }
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


    
























@*<div class="panel" id="divUsers">
    <table id="UserTable" style="width:100%">
        <thead>
        <th>
            UserName
        </th>
        <th>
            Last Name
        </th>
        <th>
            First Name
        </th>
        <th>
            Title
        </th>
        <th>
            Initial
        </th>
        <th></th>
        </thead>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @if (item.Nombre != null && item.Apellido != null)
                    {
                        @Html.ActionLink(item.Usuario, "ListaUsuarios", new { id = item.User_Id })
                    }
                    else
                    {
                        @Html.DisplayFor(modelItem => item.Usuario)
                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Apellido)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Nombre)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Titulo)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Inicial)
                </td>
                <td>
                    <center>
                        <a href="@Url.Action("EditarUsuario", "Admin", new { id = item.User_Id })" id=@item.User_Id>
                            <img src="@Url.Content("~/Content/images/pen.png")" style="float: centre" />
                        </a>
                        <img class="deleteUser" src="@Url.Content("~/Content/images/bin.png")" style="float: centre" />
                    </center>
                </td>
            </tr>
        }
    </table>
</div>*@
