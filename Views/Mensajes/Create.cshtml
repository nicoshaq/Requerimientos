@model Requerimientos.Models.Mensajes

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout_2.cshtml";
}

<script>



    var selDiv = "";

    document.addEventListener("DOMContentLoaded", init, false);

    function init() {
        document.querySelector('#file').addEventListener('change', handleFileSelect, false);
        selDiv = document.querySelector("#selectedFiles");
    }

    function handleFileSelect(e) {

        if (!e.target.files) return;

        selDiv.innerHTML = "";

        var files = e.target.files;
        for (var i = 0; i < files.length; i++) {
            var f = files[i];

            selDiv.innerHTML += f.name + "<br/>";

        }

    }
</script>


<style>


    #selectedFiles {
          padding-left: 0;
  list-style: none;
  font-size: 11px;
  color: #676a6c;
  margin-left: 10px;
  line-height: 22px;
}

    input[type=checkbox], input[type=radio] {
    margin: -18px -40% 23px;
    margin-top: 1px\9;
    line-height: normal;
}
</style>



<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-4">
        <h2>Requerimientos</h2>
        <ol class="breadcrumb"></ol>
    </div>
</div>



@*@using (Html.BeginForm("Edit", "Mensajes", null, FormMethod.Post, new { enctype = "multipart/form-data" }))*@

@using (Html.BeginForm(null, null, null, FormMethod.Post, new { enctype = "multipart/form-data" }))
{





   


    @Html.AntiForgeryToken()

    <div class="ibox-content">

       

        <div class="wrapper wrapper-content">
            <div class="row">

                <div class="col-lg-12 animated fadeInRight">

                    <div class="mail-box-header">

                        <div class="pull-right tooltip-demo">
                            @*<a href="@Url.Action("Inbox", "Mailbox")" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Move to draft folder"><i class="fa fa-pencil"></i> Draft</a>*@
                            <a href="@Url.Action("Index", "Mensajes")" class="btn btn-danger btn-sm" data-toggle="tooltip" data-placement="top" title="Descartar requerimiento"><i class="fa fa-times"></i> Descartar</a>
                        </div>
                        <h2>
                            Nuevo Requerimiento
                        </h2>
                    </div>
                    <div class="mail-box" id="ibox1">

                        <div class="mail-body">
                            <form class="form-horizontal" method="get">
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Para:</label>

                                    @*@if (ViewBag.disable == true)
                                        {

                                                                     <div>@Html.DropDownList("User_Id", null, htmlAttributes: new { @class = "form-control", @readonly = "readonly", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.User_Id, "", new { @class = "text-danger" })</div>
                                        }
                                        else {*@

                                    <div>
                                        @Html.DropDownList("User_Id", null, htmlAttributes: new {@class = "form-control"})
                                        @Html.ValidationMessageFor(model => model.User_Id, "", new {@class = "text-danger"})
                                    </div>



                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Asunto:</label>
                                    <div>
                                        @Html.EditorFor(model => model.Asunto, new {htmlAttributes = new {@class = "form-control"}})
                                        @Html.ValidationMessageFor(model => model.Asunto, "", new {@class = "text-danger"})
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Proyecto:</label>
                                    <div>
                                        @Html.DropDownList("Idproyecto", null, "--select--", htmlAttributes: new {@class = "form-control"})
                                        @Html.ValidationMessageFor(model => model.Idproyecto, "", new {@class = "text-danger"})
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="mail-text h-200">
                            <div class="summernote">
                                @Html.TextAreaFor(model => model.Mensaje, new {htmlAttributes = new {@class = "panel-body form-control"}})
                                @Html.ValidationMessageFor(model => model.Mensaje, "", new {@class = "text-danger"})
                            </div>
                            <div class="clearfix"></div>
                        </div>

                        <div class="form-group" style="margin-bottom: 0px;">
                            @*@Html.LabelFor(model => model.Archivos, htmlAttributes: new { @class = "control-label col-md-2" })*@
                            <div class="col-md-10" >
                                <input class="btn btn-sm btn-primary" type="file" name="files[]" id="file" multiple="multiple"/>

                            </div>

                        </div>





                        <div class="mail-body text-right tooltip-demo">


                            @*<div class="col-md-3">


                    <ul class="list-group clear-list m-t">
                        <li class="list-group-item fist-item" id="selectedFiles">


                        </li>

                    </ul>
                </div>*@







                            <div class="form-group pull-right check-mail">

                                <label for="checkbox3">
                                    Enviar mail
                                </label>

                                @*@Html.EditorFor(modelItem => item.checkcarpeta, new { id = item.Id }, new {  htmlAttributes = new { @class = "checkbox i-checks" } })*@
                                @*<input type="checkbox" class="i-checks" name="deleteInputs[]" value="@item.Id" />*@

                                @Html.EditorFor(model => model.Enviamail, null, new {htmlAttributes = new {@class = "checkbox i-checks" } })

                                <input type="submit" value="Enviar" class="btn btn-sm btn-primary" data-toggle="tooltip" data-placement="top" title="Enviar" id="btngetdata"/>

                            </div>






                            @*<a href="@Url.Action("Inbox", "Mailbox")" class="btn btn-sm btn-primary" data-toggle="tooltip" data-placement="top" title="Send"><i class="fa fa-reply"></i> Send</a>*@
                            @*<a href="@Url.Action("Inbox", "Mailbox")" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Discard email"><i class="fa fa-times"></i> Discard</a>
                <a href="@Url.Action("Inbox", "Mailbox")" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Move to draft folder"><i class="fa fa-pencil"></i> Draft</a>*@
                        </div>





                    </div>

                    <div class="form-group">
                        <div class="col-lg-12">
                            <div class="ibox">
                                <div>
                                    <div class="file-manager">

                                        @*<h5>Folders</h5>*@
                                        <ul class="folder-list">
                                            <li id="selectedFiles"></li>

                                        </ul>

                                        @*<div class="clearfix"></div>*@
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

}
   

    @*<div>
        @Html.ActionLink("Back to List", "Index")
    </div>*@
    @section Styles {
        @Styles.Render("~/plugins/summernoteStyles")
        @Styles.Render("~/plugins/awesomeCheckboxStyles")

        @Styles.Render("~/plugins/clockpickerStyles")
        @Styles.Render("~/plugins/dateRangeStyles")
        @Styles.Render("~/Content/plugins/iCheck/iCheckStyles")
        @Styles.Render("~/Content/plugins/chosen/chosenStyles")
        @Styles.Render("~/plugins/switcheryStyles")
        @Styles.Render("~/plugins/jasnyBootstrapStyles")
        @Styles.Render("~/plugins/nouiSliderStyles")
        @Styles.Render("~/plugins/dataPickerStyles")
        @Styles.Render("~/Content/plugins/ionRangeSlider/ionRangeStyles")
        @Styles.Render("~/plugins/imagecropperStyles")
        @Styles.Render("~/Content/plugins/colorpicker/colorpickerStyles")
        @Styles.Render("~/plugins/select2Styles")
        @Styles.Render("~/plugins/touchSpinStyles")
        @Styles.Render("~/plugins/tagInputsStyles")
        @Styles.Render("~/plugins/duallistStyles")
        @Styles.Render("~/Content/plugins/dataTables/dataTablesStyles")
        @Styles.Render("~/plugins/toastrStyles")


    }
    @section Scripts {
        @Scripts.Render("~/plugins/iCheck")
        @Scripts.Render("~/plugins/dataPicker")
        @Scripts.Render("~/plugins/ionRange")
        @Scripts.Render("~/plugins/nouiSlider")
        @Scripts.Render("~/plugins/jasnyBootstrap")
        @Scripts.Render("~/plugins/switchery")
        @Scripts.Render("~/plugins/chosen")
        @Scripts.Render("~/plugins/knob")
        @Scripts.Render("~/plugins/imagecropper")
        @Scripts.Render("~/plugins/colorpicker")
        @Scripts.Render("~/plugins/clockpicker")
        @Scripts.Render("~/plugins/dateRange")
        @Scripts.Render("~/plugins/select2")
        @Scripts.Render("~/plugins/touchSpin")
        @Scripts.Render("~/plugins/tagInputs")
        @Scripts.Render("~/plugins/duallist")
        @Scripts.Render("~/plugins/dataTables")
        @Scripts.Render("~/plugins/toastr")

        @Scripts.Render("~/plugins/summernote")
        <script type="text/javascript">



            $(document).ready(function () {

                $('#btngetdata').on('click', function () {

                    $('#ibox1').children('.ibox-content').toggleClass('sk-loading');
                    //$('#ibox2').children('.ibox-content').toggleClass('sk-loading');

                });

                function HomeIndex() {
                    var $this = this;

                    function initialize() {
                        $('#Mensaje').summernote({
                            focus: true,
                            height: 150,
                            codemirror: {
                                theme: 'united'
                            }
                        });
                    }

                    $this.init = function () {
                        initialize();
                    }
                }
                $(function () {
                    var self = new HomeIndex();
                    self.init();
                })






            });

        </script>
    }
